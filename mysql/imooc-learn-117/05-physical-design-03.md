### [数据库字段类型选择原则](https://www.imooc.com/video/1925)

示例: birthday 字段

type          |value
--------------|-----------
char(10)      |'1978-03-01'
varchar(20)   |'1978-03-01'
datetime(10)  |1978-03-01
int(10)       |257529600

> 列的数据类型 一方面会影响数据存储空间的开销, 另一方面会影响数据查询性能; 当一个列可以选择多中数据类型时, 应该优先选择数字类型, 其次是日期或二进制类型, 最后是字符类型; 对于相同级别的数据类型, 应该优先选择占用空间小的数据类型

因此对于上面的例子, 优先级如下(由上到下, 优先级递减)

type          |value
--------------|-----------
int(10)       |257529600
datetime(10)  |1978-03-01
char(10)      |'1978-03-01'
varchar(20)   |'1978-03-01'


以上原则主要从以下角度考虑:

+ 在对数据进行比较(查询条件, JOIN条件, 排序)操作时, 通用的数据, 字符处理往往比数字处理慢

+ 在数据库中, 数据处理以页为单位, 列的长度小, 有利于性能提升

> 数据库当前最大的瓶颈是 磁盘IO

https://www.imooc.com/video/1937

#### char 与 varchar 如何选择

+ 原则.1 如果列中要存储的数据长度差不多是一致的, 则应该考虑用char; 否则应考虑用varchar

+ 原则.2 如果列中最大数据长度小于50-Byte, 则一般考虑用char;

+ 原则.3 一般不宜定义大于50-Byte的char类型列

#### decimal 与 float 如何选择

+ 原则.1 decimal适用于存储精确数据, float用于存储非精确数据; 精确数据只能用decimal类型

+ 原则.2 float的存储空间开销一般比decimal小, 非精确数据优先选择float类型

#### 时间类型如何存储?

+ 用int存储
    + 优点: 字段长度比datetime小
    + 缺点: 使用不方便, 需要函数转换
    + 限制: 只能存储到2038-1-19 11:14:07, 即 2^32

+ 考虑时间存储的粒度
    + 年
    + 月
    + 日
    + 小时
    + 分钟
    + 秒
    + 周
    + ...








