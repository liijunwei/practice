+ 问题: 什么是触发器?
+ 问题: 为什么要用触发器?
+ 问题: 如何创建触发器?
+ 问题: 如何使用触发器?

# 触发器

+ 示例
    + 每当增加一个顾客到某个数据库表时, 都检查其电话号码格式是否正确, 州的缩写是否为大写
    + 每当订购一个产品时, 都从库存数量中减去订购的数量
    + 无论何时删除一行, 都在某个存档表中保留一个副本

+ 触发器是mysql响应一下任意语句而自动执行的一条mysql语句(或位于begin和end语句之间的一组语句)
    + DELETE
    + INSERT
    + UPDATE
    +
    + 其他mysql语句不支持触发器

# 创建触发器

创建触发器时, 需要指定以下4条信息:

+ 唯一的触发器名称
+ 触发器关联的表
+ 触发器应该相应的活动(DELETE/INSERT/UPDATE)
+ 触发器何时执行(处理之前/处理之后)

> 建议: 保证每个数据库内的触发器名称唯一

示例

```sql

CREATE TRIGGER newproduct AFTER INSERT ON products FOR EACH ROW
SELECT
  'product add' INTO @var; -- 书上的例子有问题, 少了 INTO, 会报错"Not allowed to return a result set from a trigger"

INSERT INTO products(prod_id, vend_id, prod_name, prod_price, prod_desc) VALUES('DEC01', 1001, '.5 ton dece', 5.99, '.5 ton anvil, black, complete with handy hook');
INSERT INTO products(prod_id, vend_id, prod_name, prod_price, prod_desc) VALUES('DEC02', 1001, '.5 ton dece', 5.99, '.5 ton anvil, black, complete with handy hook');
```

