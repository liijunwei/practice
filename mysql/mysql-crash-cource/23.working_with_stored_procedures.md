+ 问题: 什么是存储过程?
+ 问题: 为什么要使用存储过程?
+ 问题: 如何创建存储过程?
+ 问题: 如何使用存储过程?

# 存储过程

mysql5开始有次功能

+ 经常会有一个完整的操作需要多条语句才能完成


情景:

+ 为了处理订单, 需要核对以保证库存中有相应的物品
+ 如果库存有物品, 这些物品需要预定以便不将他们再卖给别人, 并且要减少可用的物品数量以反映正确的库存量
+ 库存中没有的物品需要订购, 这需要与供应商进行交互
+ 关于哪些物品入库(并且可立即发货), 哪些物品退订, 需要通知相应的客户

执行以上处理, 需要针对许多表的多条SQL语句, 且具体语句的执行次序也不是固定的

+ 问题: 如何编写代码满足需求?
    + 可以单独编写每条语句, 并根据结果有条件低执行另外的语句; 在每次需要这个处理时, 都必须做这些工作

> 存储过程简单来说, 就是为以后的使用而保存的一条或多条mysql语句的集合; 可以把它视为批文件, 虽然它们的用处不止于此

# 为什么要用存储过程

简单/安全/高性能

+ 通过把处理封装在容易使用的单元中, 简化复杂操作
+ 简化对变动的管理
+ 提高性能: 使用存储过程比单独使用SQL语句更快

存储过程的一些缺陷

+ 一般来说, 存储过程的编写比SQL语句复杂, 需要更高的技能, 更丰富的经验
+ 安全访问权限更严格

> 建议尽可能地使用存储过程

