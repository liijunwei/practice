+ 问题: 什么是视图?
+ 问题: 视图怎么工作?
+ 问题: 什么时候使用视图?
+ 问题: 怎么使用视图简化SQL操作?

# 视图

> mysql5添加了视图功能

> 定义: 视图是虚拟的表, 它只包含使用时动态检索厨具的查询

```sql
-- 查询订购了某个特定产品的客户
SELECT
  cust_name,
  cust_contact
FROM
  customers,
  orders,
  orderitems
WHERE
  customers.cust_id = orders.cust_id
  AND orderitems.order_num = orders.order_num
  AND prod_id = 'TNT2';

-- 假如可以把这个查询包装成一个名为 productcustomers 的 [虚拟表]
-- 查询会简单很多
SELECT
  cust_name,
  cust_contact
FROM
  productscustomers
WHERE
  prod_id = 'TNT2';
```

+ productscustomers 是一个视图
+ 作为视图, 他不包含表中应有的任何列或数据
+ 作为视图, 它包含的是一个SQL查询(与上面用以正确的联结表的相同的查询)

## 为什么使用视图

+ 重用SQL语句

+ 简化复杂的SQL操作, 隐藏细节

+ 使用表的组成部分而不是整张表

+ 保护数据: 可以给用户授权表的特定部分的访问权限而不是整张表的访问权限

+ 更改数据格式和表示: 视图可以返回和底层表的表示和格式不同的数据