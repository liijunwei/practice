You have a type code that affects the behavior of a class and the type code changes at runtime.

*Replace the type code with a state object.*
